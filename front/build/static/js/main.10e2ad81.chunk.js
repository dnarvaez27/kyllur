(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],[,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(3),o=a.n(l),r=(a(9),a(1)),i=(a(10),a(11),a(12),function(e){var t=e.currentLocation,a=e.changeLocation,l=e.cancel,o=Object(n.useState)(t.latitude),i=Object(r.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(t.longitude),d=Object(r.a)(m,2),f=d[0],E=d[1];return c.a.createElement("div",{id:"changelocation-container"},c.a.createElement("div",null,c.a.createElement("span",null,"Change Location"),c.a.createElement("button",{title:"Current Position",onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){u(e.coords.latitude),E(e.coords.longitude)})):console.error("No geolocation")}},c.a.createElement("i",{className:"fas fa-crosshairs"}))),c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Latitude"),c.a.createElement("input",{type:"number",placeholder:"latitude",value:s,onChange:function(e){return u(+e.target.value)}})),c.a.createElement("label",null,c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Longitude"),c.a.createElement("input",{type:"number",placeholder:"longitude",value:f,onChange:function(e){return E(+e.target.value)}}))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return l()}},"Cancel"),c.a.createElement("button",{onClick:function(){return a({latitude:s,longitude:f})}},"Change")))}),s=(a(13),function(e){e.close;return c.a.createElement("div",{id:"about"},c.a.createElement("span",null,"Kyllur"),c.a.createElement("div",null,c.a.createElement("span",null,"Why Kyllur?"),c.a.createElement("span",null,"The name comes frome the sound of ",c.a.createElement("i",null,"quyllur")," from Quechuan language that stands for star. We want to popularize native languages with amazing words!")),c.a.createElement("div",null,c.a.createElement("span",null,"The project"),c.a.createElement("span",null,"Initially this project starts as a University project for ISIS-3710 Web development. However, we want to power this tool up to explore things in the sky beyond our sight.")),c.a.createElement("div",null,c.a.createElement("span",null,"What we use?"),c.a.createElement("span",null,"We are using ",c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.n2yo.com/"},"N2YO")," for accessing satellites location in real time, our own database in Mongo to store around 3K stars coordinates in the space and some maths to paint them in a canvas")),c.a.createElement("div",null,c.a.createElement("span",null,"Who are we?"),c.a.createElement("span",null,"We are ",c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://pedrito.dev"},"Pedro Salazar")," & ",c.a.createElement("a",{target:"_blank",href:"https://dnarvaez27.github.io/",rel:"noopener noreferrer"},"David Narvaez"),c.a.createElement("span",null,". Two students who start projects until the last minute since 90's"))))}),u=(a(14),function(e){var t=e.data,a=Object(n.useState)({state:0,view:t.satellites}),l=Object(r.a)(a,2),o=l[0],i=l[1];Object(n.useEffect)((function(){i((function(e){return{state:e.state,view:0===e.state?t.satellites:t.stars}}))}),[t]);var s=function(e,a){return function(){return i({state:e,view:t[a]})}};return c.a.createElement("div",{id:"datashow-container"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{className:0===o.state?"active":"",onClick:s(0,"satellites")},"Satellites"),c.a.createElement("button",{className:1===o.state?"active":"",onClick:s(1,"stars")},"Stars"))),c.a.createElement("div",null,o.view.map((function(e,t){return function(e,t){return 0===o.state?c.a.createElement("div",{key:"sat_".concat(t)},c.a.createElement("span",null,"Satelite ".concat(e.satname)),c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-globe-americas"}),c.a.createElement("span",null,e.intDesignator)),c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-rocket"}),c.a.createElement("span",null,e.launchDate))):c.a.createElement("div",{key:"star_".concat(t)},c.a.createElement("span",null,"Star ".concat(e.nombre)),c.a.createElement("span",null,"Mass ".concat(e.masa)),c.a.createElement("span",null,e.descubrimiento),c.a.createElement("span",null,e.tipo_deteccion),c.a.createElement("div",null,c.a.createElement("button",null,c.a.createElement("i",{className:"fas fa-heart"}),c.a.createElement("i",{className:"far fa-heart"}))))}(e,t)}))))}),m=(a(15),function(e){var t=e.queries;return c.a.createElement("div",{id:"queries-container"},t.reverse().map((function(e,t){return c.a.createElement("div",{key:"cord_".concat(t)},c.a.createElement("span",null,"(",e.latitude,", ",e.longitude,")"))})))}),d=function(e){var t=e.openModal,a=e.openFullModal,l=e.changeLocation,o=e.data,d=e.queries,f=Object(n.useState)({latitude:0,longitude:0,accuracy:0}),E=Object(r.a)(f,2),p=E[0],v=E[1],g=Object(n.useState)(-1),h=Object(r.a)(g,2),b=h[0],O=h[1];Object(n.useEffect)((function(){2===b&&a(!0,c.a.createElement(m,{queries:d}))}),[d]),Object(n.useEffect)((function(){l(p)}),[p]),Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){v({latitude:e.coords.latitude,longitude:e.coords.longitude})})):console.error("No geolocation")}),[]),Object(n.useEffect)((function(){3===b&&a(!0,c.a.createElement(u,{data:o}))}),[b,o]);var j=function(){O(-1),a(!1,void 0)},w=function(e,t){return b!==e?t:c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-times-circle"}),c.a.createElement("span",null,"Close"))};return c.a.createElement("div",{id:"nav-bar"},c.a.createElement("div",{id:"search-container"},c.a.createElement("button",{onClick:function(){t(!0,c.a.createElement(i,{currentLocation:p,changeLocation:function(e){v(e),t(!1,void 0)},cancel:function(){return t(!1,void 0)}}))}},c.a.createElement("i",{className:"fas fa-search"}),c.a.createElement("span",null,"Change Location")),c.a.createElement("button",{onClick:1!==b?function(){O(1),a(!0,c.a.createElement(s,{close:function(){return t(!1,void 0)}}))}:j,className:1===b?"active":""},w(1,c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-question-circle"}),c.a.createElement("span",null,"About"))))),c.a.createElement("div",{id:"footer-container"},c.a.createElement("button",{onClick:2!==b?function(){O(2),a(!0,c.a.createElement(m,{queries:d}))}:j,className:2===b?"active":""},w(2,c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-stream"}),c.a.createElement("span",null,"Queries")))),c.a.createElement("button",{onClick:3!==b?function(){O(3),a(!0,c.a.createElement(u,{data:o}))}:j,className:3===b?"active":""},w(3,c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-info-circle"}),c.a.createElement("span",null,"Data"))))))},f=(a(16),function(e){var t=e.open,a=e.content;return c.a.createElement("div",{id:"modal",className:t?"":"hidden"},c.a.createElement("div",{id:"modal-bg"}),c.a.createElement("div",{id:"modal-content"},a))}),E=(a(17),{radius:8,color:"#F25A38"}),p={radius:3,color:"#06ABC2"},v={radius:1,color:"#FFFFFF"},g=function(e){var t=e.satelites,a=e.stars,l=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=l.current.getContext("2d"),n=(window.innerHeight-40)/2;e.clearRect(0,0,2*n,2*n),function(e,t){e.beginPath(),e.fillStyle=E.color,e.arc(t,t,E.radius,0,2*Math.PI),e.fill()}(e,n),t.forEach((function(t){return function(e,t,a,n){e.beginPath(),e.fillStyle=p.color,e.arc(a+t,n+t,p.radius,0,2*Math.PI),e.fill()}(e,n,t.canvasPosition.x,t.canvasPosition.y)})),a.forEach((function(t){return function(e,t,a,n){e.beginPath(),e.fillStyle=v.color,e.arc(a+t,n+t,v.radius,0,2*Math.PI),e.fill()}(e,n,t.canvasPosition.x,t.canvasPosition.y)}))}),[t,a]),c.a.createElement("canvas",{id:"star-canvas",ref:l,width:window.innerHeight-40,height:window.innerHeight-40})},h=(a(18),function(e){var t=e.open,a=e.content;return c.a.createElement("div",{id:"fullmodal",className:t?"":"hidden"},a)}),b=Object({NODE_ENV:"production",PUBLIC_URL:""}).URL||"wss://kyllur.herokuapp.com/ws";console.log("WSS URL ".concat(b));var O=function(){var e=Object(n.useState)({open:!1,content:void 0}),t=Object(r.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)({open:!1,content:void 0}),i=Object(r.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)({stars:[],satellites:[]}),E=Object(r.a)(m,2),p=E[0],v=E[1],O=Object(n.useState)({stars:[],satellites:[]}),j=Object(r.a)(O,2),w=j[0],S=j[1],N=Object(n.useState)(!1),C=Object(r.a)(N,2),k=C[0],y=C[1],L=Object(n.useState)(null),I=Object(r.a)(L,2),P=I[0],W=I[1],F=Object(n.useState)([]),M=Object(r.a)(F,2),_=M[0],q=M[1],A=null;Object(n.useEffect)((function(){var e=new WebSocket(b);W(e),window.particlesJS.load("particles-js","/particles.json",(function(){}))}),[]),Object(n.useEffect)((function(){P&&(P.onopen=function(){y(!0),console.log("WS: Connected"),P.send("SUBSCRIBE;locations"),A&&A()},P.onclose=function(){return console.log("WS: Closed")},P.onerror=function(e){return console.log("WS: Error",e)},P.onmessage=function(e){var t=JSON.parse(e.data);"LIVE"in t?v(t.LIVE):"LOCATIONS"in t?q(t.LOCATIONS):console.log(t)})}),[P,A]);return c.a.createElement("div",{id:"main-container"},c.a.createElement(d,{openModal:function(e,t){l({open:e,content:t})},openFullModal:function(e,t){u({open:e,content:t})},changeLocation:function(e){k?(S(e),P.send("LOCATION;".concat(e.latitude,";").concat(e.longitude))):A=function(){S(e),P.send("LOCATION;".concat(e.latitude,";").concat(e.longitude))}},data:p,queries:_}),c.a.createElement(g,{satelites:p.satellites,stars:p.stars,coordinates:w}),c.a.createElement(f,{open:a.open,content:a.content}),c.a.createElement(h,{open:s.open,content:s.content}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.10e2ad81.chunk.js.map